<app-navmenu></app-navmenu>
<div class="page-container">
    <div class="announcements-header">
        <h1 class="page-title">Announcements</h1>
        <button *ngIf="user && user.admin" (click)="newAnnouncementPopup()" class="new-post-button">New</button>
    </div>
    <div class="break"></div>
    <div class="announcements-container">
        <div *ngFor="let announcement of announcements" class="announcement-container">
            <div class="announcement-header">
                <p class="author">{{announcement.author.profile.firstName}}, {{announcement.title}}</p>
                <p class="date">{{announcement.date}}</p>
            </div>
            <p class="announcement-text">{{announcement.message}}</p>
        </div>
    </div>
    <div *ngIf="announcementPopup && user" class="create-announcement-container">
        <div class="popup-container">
            <div class="popup-close-button" (click)="newAnnouncementPopup()" >x</div>
            <div class="popup-name">{{user.profile.firstName}}</div>
            <div class="popup-inner-container">
                <div>Title</div>
                <input #title class="popup-input" />
                <div>Message</div>
                <input #message class="popup-input" />
            </div>
            <button class="popup-submit-button" (click)="submitAnnouncement(title.value, message.value)">Submit</button>
        </div>
    </div>
</div>